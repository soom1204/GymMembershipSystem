
<!-- Add this to the password input group -->
<div class="input-group">
    <label for="password">Password</label>
    <div class="password-wrapper">
        <input type="password" id="password" name="password" placeholder="Enter your password" required>
        <i class="fas fa-eye-slash password-toggle"></i>
    </div>
</div>

<!-- Add loading spinner CSS -->
<style>
    .password-wrapper {
        position: relative;
    }
    
    .password-toggle {
        position: absolute;
        right: 15px;
        top: 50%;
        transform: translateY(-50%);
        cursor: pointer;
        color: #666;
    }

    .loading {
        position: relative;
        pointer-events: none;
    }

    .loading::after {
        content: "";
        position: absolute;
        width: 20px;
        height: 20px;
        border: 3px solid #fff;
        border-radius: 50%;
        border-top-color: transparent;
        animation: spin 0.8s linear infinite;
        right: 15px;
        top: 50%;
        transform: translateY(-50%);
    }

    @keyframes spin {
        to { transform: rotate(360deg); }
    }
</style>

<!-- Enhanced script -->
<script type="module">
    document.querySelector('.password-toggle').addEventListener('click', function() {
        const passwordField = document.getElementById('password');
        const type = passwordField.type === 'password' ? 'text' : 'password';
        passwordField.type = type;
        this.classList.toggle('fa-eye-slash');
        this.classList.toggle('fa-eye');
    });

    document.getElementById('loginForm').addEventListener('submit', async function(e) {
        e.preventDefault();
        const btn = this.querySelector('button[type="submit"]');
        
        btn.classList.add('loading');
        btn.disabled = true;
        
        try {
            // ... existing login logic ...
        } catch (error) {
            // Add error message display instead of alert
            const errorDiv = document.createElement('div');
            errorDiv.className = 'error-message';
            errorDiv.textContent = error.message;
            this.prepend(errorDiv);
        } finally {
            btn.classList.remove('loading');
            btn.disabled = false;
        }
    });
</script>

